defaultNamespace: cattle-neuvector-system

helm:
  releaseName: neuvector
  repo: https://neuvector.github.io/neuvector-helm/
  chart: core
  version: 2.6.4
  psp: false
  
  valuesFiles:
    - controller-values.yaml
    - cri-values.yaml
    - enforcer-values.yaml
    - manager-values.yaml
    - registry-values.yaml
    - scanner-values.yaml
# This diff accounts for sslip.io being used on the manager Ingress resource (the Fleet repo will get perpetually stuck in "Modified") 
# and can safely be removed if not using an Ingress, or if using a fixed host for the manager Ingress resource.
diff:
  comparePatches:
  - apiVersion: networking.k8s.io/v1
    kind: Ingress
    name: neuvector-webui-ingress
    namespace: cattle-neuvector-system
    operations:
    - { "op": "remove", "path": "/spec/rules" }
